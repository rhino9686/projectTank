#define SWITCHES 0x40050000
#define RIGHT_LEFT_SERVO 0x40050010
#define UP_DOWN_SERVO 0x40050014



int main()
{
	volatile uint32_t* switchAddr = (volatile uint32_t *)(SWITCHES);
	volatile uint32_t* rlAddr = (volatile uint32_t *)(RIGHT_LEFT_SERVO);
	volatile uint32_t* udAddr = (volatile uint32_t *)(UP_DOWN_SERVO);

	uint32_t switchVals = 0;
	uint32_t udPos = 0;
	uint32_t rlPos = 0;

	while( 1 )
	{
		switchVals = *switchAddr;
		if (rlPos == 0) {
			*rlAddr = 0;
		} else if (rlPos == 180) {
			*rlAddr = 180;
		} else if (switchVals == 2) {
			rlPos += 1;
			*rlAddr = rlPos;
		} else if (switchVals == 1) {
			rlPos -= 1;
			*rlAddr = rlPos;
		}



	}
}
